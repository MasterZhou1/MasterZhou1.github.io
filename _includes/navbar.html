<nav class="navbar navbar-expand-sm navbar-light bg-light fixed-top mb-5 shadow-sm">
  <div class="container">
    <a class="navbar-brand"><strong>{{ site.data.profile.navbar_name }}</strong></a>

    <button class="navbar-toggler" style="font-size:1em;padding:.5em" type="button"
            data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive"
            aria-expanded="false" aria-label="Toggle navigation">
      <i class="fas fa-map"></i> Menu
    </button>

    <div class="collapse navbar-collapse" id="navbarResponsive">   
      
<ul class="navbar-nav ml-auto" id="topnav">
  <li class="nav-item">
    <a class="nav-link" href="{{ '/' | relative_url }}" data-prefix="/">Home</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{ '/publications/' | relative_url }}" data-prefix="/publications">Publications</a>
  </li>
  <li class="nav-item">
    <!-- Showcase 同时把 /showcase 和 /articles 视为同一栏目 -->
    <a class="nav-link" href="{{ '/showcase/' | relative_url }}" data-prefix="/showcase,/articles">Showcase</a>
  </li>
</ul>

<script>
(function () {
  // 规范：/index.html -> /；*.html -> 去掉扩展名（兼容直接访问 .html）
  var path = location.pathname.toLowerCase()
              .replace(/\/index\.html$/, '/')
              .replace(/\.html$/, '');

  var best = null, bestLen = -1;
  document.querySelectorAll('#topnav .nav-link').forEach(function(a){
    var raw = (a.getAttribute('data-prefix') || '').toLowerCase();
    raw.split(',').forEach(function(p){
      p = p.trim(); if (!p) return;
      if (p !== '/' && p.endsWith('/')) p = p.slice(0, -1); // 去掉前缀尾斜杠

      var ok = (p === '/' && path === '/') ||
               (p !== '/' && (path === p || path.indexOf(p + '/') === 0));

      if (ok && p.length > bestLen) { best = a; bestLen = p.length; }
    });
  });
  if (best) { best.classList.add('active'); best.setAttribute('aria-current','page'); }
})();
</script>

    </div>
  </div>
</nav>
